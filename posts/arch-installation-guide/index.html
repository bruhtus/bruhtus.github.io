<!doctype html><html>
<head>
<title>
Arch Linux Installation Guide (Feb 2021)
</title>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=author content="Robertus Chris">
<link rel="shortcut icon" type=image/x-icon href=https://bruhtus.github.io/img/favicon.ico>
<link rel=stylesheet href=https://bruhtus.github.io/style.min.4f970aa135421035a71bdc9bbd750aa2cfbe0ddb080ab1ec5db4173f45494cad.css integrity="sha256-T5cKoTVCEDWnG9ybvXUKos++DdsICrHsXbQXP0VJTK0=">
<link disabled rel=stylesheet href=https://bruhtus.github.io/style-dark.min.0a647fb6c07e04b77b54fa0515d0a683d39ecdb251dba960fe1f966f7ff36fc2.css media="(prefers-color-scheme: dark)" integrity="sha256-CmR/tsB+BLd7VPoFFdCmg9OezbJR26lg/h+Wb3/zb8I=">
<link rel=stylesheet href=https://use.fontawesome.com/releases/v5.8.1/css/all.css integrity=sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf crossorigin=anonymous>
<link rel=preconnect href=https://fonts.gstatic.com>
<link href="https://fonts.googleapis.com/css2?family=Bitter:wght@300&family=EB+Garamond&family=PT+Sans&family=Sura&family=Zilla+Slab&family=Inconsolata&family=Libre+Baskerville&display=swap" rel=stylesheet>
<link rel=stylesheet href=https://bruhtus.github.io/css/custom.css>
<meta property="og:title" content="Arch Linux Installation Guide (Feb 2021)">
<meta property="og:description" content="Don&rsquo;t install arch linux, install TempleOS instead. All hail HolyC! (R.I.P Terry). Jokes aside, please keep in mind that this guide might become obsolete because the nature of rolling release so you should always check the arch wiki installation guide .
 A Brief Intro I&rsquo;m trying to install an OS as minimal as possible but not from scratch like Linux From Scratch or compiling everything like Gentoo . I might try to install both of them but i don&rsquo;t think i&rsquo;m gonna use one of them as my main OS.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://bruhtus.github.io/posts/arch-installation-guide/"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2021-02-23T07:14:39+07:00">
<meta property="article:modified_time" content="2021-02-23T07:14:39+07:00">
<meta itemprop=name content="Arch Linux Installation Guide (Feb 2021)">
<meta itemprop=description content="Don&rsquo;t install arch linux, install TempleOS instead. All hail HolyC! (R.I.P Terry). Jokes aside, please keep in mind that this guide might become obsolete because the nature of rolling release so you should always check the arch wiki installation guide .
 A Brief Intro I&rsquo;m trying to install an OS as minimal as possible but not from scratch like Linux From Scratch or compiling everything like Gentoo . I might try to install both of them but i don&rsquo;t think i&rsquo;m gonna use one of them as my main OS."><meta itemprop=datePublished content="2021-02-23T07:14:39+07:00">
<meta itemprop=dateModified content="2021-02-23T07:14:39+07:00">
<meta itemprop=wordCount content="2121">
<meta itemprop=keywords content="Linux,"><!--[if lte IE 9]><script src=https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js></script><![endif]--><!--[if lt IE 9]><script src=https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js></script>
<script src=https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js></script><![endif]-->
</head>
<body>
<h1>Arch Linux Installation Guide (Feb 2021)</h1>
<header>
<div class=cd>
<h2><a style=text-decoration:none class=cd href=https://bruhtus.github.io/posts>cd ..</a> || <a style=text-decoration:none class=cd href=https://bruhtus.github.io/>cd</a></h2>
</div>
</header>
<p class=date>
February 23, 2021
<span>&#183;</span>
10 mins
<span>&#183;</span>
Robertus Chris
</p>
<div id=tags>
<ul>
<li><a style=text-decoration:none href=https://bruhtus.github.io/tags/linux/>Linux</a></li>
</ul>
</div>
<div class=toc>
<details>
<summary>
<div class=details>Table of Contents</div>
</summary>
<blockquote><ul><li>
<a style=text-decoration:none href=#a-brief-intro aria-label="A Brief Intro">A Brief Intro</a></li><li>
<a style=text-decoration:none href=#pre-installation aria-label=Pre-Installation>Pre-Installation</a></li><li>
<a style=text-decoration:none href=#installation aria-label=Installation>Installation</a><ul>
<li>
<a style=text-decoration:none href=#live-environment aria-label="Live Environment">Live Environment</a><ul>
<li>
<a style=text-decoration:none href=#set-keyboard-layout aria-label="Set Keyboard Layout">Set Keyboard Layout</a></li><li>
<a style=text-decoration:none href=#verify-the-boot-mode aria-label="Verify The Boot Mode">Verify The Boot Mode</a></li><li>
<a style=text-decoration:none href=#connect-to-the-internet aria-label="Connect To The Internet">Connect To The Internet</a></li><li>
<a style=text-decoration:none href=#update-the-system-clock aria-label="Update The System Clock">Update The System Clock</a></li><li>
<a style=text-decoration:none href=#partition-the-disks aria-label="Partition The Disks">Partition The Disks</a></li><li>
<a style=text-decoration:none href=#format-the-partitions aria-label="Format The Partitions">Format The Partitions</a></li><li>
<a style=text-decoration:none href=#mount-the-filesystems aria-label="Mount The Filesystems">Mount The Filesystems</a></li><li>
<a style=text-decoration:none href=#install-essential-packages aria-label="Install Essential Packages">Install Essential Packages</a></li><li>
<a style=text-decoration:none href=#generate-fstab aria-label="Generate Fstab">Generate Fstab</a></li><li>
<a style=text-decoration:none href=#change-root-into-new-system aria-label="Change Root Into New System">Change Root Into New System</a></li></ul>
</li><li>
<a style=text-decoration:none href=#configure-new-system aria-label="Configure New System">Configure New System</a><ul>
<li>
<a style=text-decoration:none href=#set-the-time-zone aria-label="Set The Time Zone">Set The Time Zone</a></li><li>
<a style=text-decoration:none href=#select-your-os-language aria-label="Select Your OS Language">Select Your OS Language</a></li><li>
<a style=text-decoration:none href=#network-configuration aria-label="Network Configuration">Network Configuration</a></li><li>
<a style=text-decoration:none href=#set-the-root-password aria-label="Set The Root Password">Set The Root Password</a></li><li>
<a style=text-decoration:none href=#add-new-user aria-label="Add New User">Add New User</a></li><li>
<a style=text-decoration:none href=#add-new-user-to-group aria-label="Add New User To Group">Add New User To Group</a></li><li>
<a style=text-decoration:none href=#edit-sudoers-file aria-label="Edit Sudoers File">Edit Sudoers File</a></li><li>
<a style=text-decoration:none href=#install-bootloader aria-label="Install Bootloader">Install Bootloader</a></li></ul>
</li><li>
<a style=text-decoration:none href=#reboot aria-label=Reboot>Reboot</a></li></ul>
</li><li>
<a style=text-decoration:none href=#graphical-user-interface aria-label="Graphical User Interface">Graphical User Interface</a><ul>
<li>
<a style=text-decoration:none href=#login-to-your-arch-installation aria-label="Login To Your Arch Installation">Login To Your Arch Installation</a></li><li>
<a style=text-decoration:none href=#install-and-configure-graphical-environment aria-label="Install And Configure Graphical Environment">Install And Configure Graphical Environment</a></li></ul>
</li><li>
<a style=text-decoration:none href=#the-conclusion aria-label="The Conclusion">The Conclusion</a></li><li>
<a style=text-decoration:none href=#references aria-label=References>References</a></li></ul>
</blockquote>
</details>
</div>
<div id=contentBody>
<blockquote>
<p>Don&rsquo;t install arch linux, install TempleOS instead. All hail HolyC! (R.I.P Terry). Jokes aside, please keep in mind that this guide might become obsolete because the nature of rolling release so you should always check the <a href=https://wiki.archlinux.org/index.php/installation_guide target=_blank rel="noreferrer noopener">arch wiki installation guide</a>
.</p>
</blockquote>
<h2 id=a-brief-intro>A Brief Intro</h2>
<p>I&rsquo;m trying to install an OS as minimal as possible but not from scratch like <a href=http://www.linuxfromscratch.org/ target=_blank rel="noreferrer noopener">Linux From Scratch</a>
or compiling everything like <a href=https://www.gentoo.org/ target=_blank rel="noreferrer noopener">Gentoo</a>
. I might try to install both of them but i don&rsquo;t think i&rsquo;m gonna use one of them as my main OS.</p>
<h2 id=pre-installation>Pre-Installation</h2>
<p>First thing to do is download the iso from <a href=https://archlinux.org/download/ target=_blank rel="noreferrer noopener">here</a>
and make bootable usb drive. After that check if your machine using legacy BIOS or UEFI by doing <code>ls /sys/firmware/efi/efivars</code>. If it shows directory without error then the system is booted in UEFI mode, and if the directory doesn&rsquo;t exist then the system may be booted in legacy BIOS (or CSM). Most modern computer usually using UEFI but please check first because it could save you a lot of time during the installation.</p>
<p>For this guide, i&rsquo;m installing arch linux on machine with UEFI so i won&rsquo;t cover the legacy BIOS installation here.</p>
<h2 id=installation>Installation</h2>
<p>Here&rsquo;s step-by-step arch linux installation</p>
<h3 id=live-environment>Live Environment</h3>
<p>After booting into live environment, there&rsquo;re a few things you need to do. Below is the things you need to do inside live environment.</p>
<h4 id=set-keyboard-layout>Set Keyboard Layout</h4>
<p>The default keyboard layout is US so if you want to use US keyboard layout then you can skip this step. You can check available layouts using this command</p>
<div class=highlight><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-sh data-lang=sh>ls /usr/share/kbd/keymaps/**/*.map.gz
</code></pre></div><p>and to modify the layout you can use <code>loadkeys</code>. For example, to set a german keyboard layout you can do</p>
<div class=highlight><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-sh data-lang=sh>loadkeys de-latin1
</code></pre></div><h4 id=verify-the-boot-mode>Verify The Boot Mode</h4>
<p>If you already know which one your machine use (legacy BIOS or UEFI), then boot into the right boot mode. You can verify the boot mode by using the same command</p>
<div class=highlight><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-sh data-lang=sh>ls /sys/firmware/efi/efivars
</code></pre></div><h4 id=connect-to-the-internet>Connect To The Internet</h4>
<p>At the time of writing this guide, the installation ISO using <code>IWD</code> (Internet Wireless Daemon) to connect to wifi. You can check if you have internet connection or not by doing this</p>
<div class=highlight><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-sh data-lang=sh>ping google.com <span style=color:#999;font-style:italic>#or any website you like such as pornhub.com</span>
</code></pre></div><p>If there&rsquo;s no internet connection, you can do:</p>
<ul>
<li>If you&rsquo;re using ethernet, plug in the cable.</li>
<li>If you&rsquo;re using wifi, you can use <code>iwctl</code> (IWD command).</li>
</ul>
<p>Here&rsquo;s the basic command after you use <code>iwctl</code> (don&rsquo;t forget to press enter to execute the command):</p>
<div class=highlight><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-sh data-lang=sh>device list <span style=color:#999;font-style:italic>#to check the device name</span>
station &lt;device-name&gt; scan <span style=color:#999;font-style:italic>#to scan the wifi</span>
station &lt;device-name&gt; get-networks <span style=color:#999;font-style:italic>#to check the available networks</span>
station &lt;device-name&gt; connect &lt;wifi-name&gt; <span style=color:#999;font-style:italic>#and then enter the password if there&#39;s any</span>
<span style=color:#24909d>exit</span> <span style=color:#999;font-style:italic>#exit iwctl</span>
</code></pre></div><p>After that check again using the <code>ping</code> command.</p>
<h4 id=update-the-system-clock>Update The System Clock</h4>
<p>After there&rsquo;s an internet connection, you can update the system clock by using</p>
<div class=highlight><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-sh data-lang=sh>timedatectcl set-ntp <span style=color:#24909d>true</span>
</code></pre></div><p>to check the service status, use <code>timedatectl status</code></p>
<h4 id=partition-the-disks>Partition The Disks</h4>
<blockquote>
<p>This is for UEFI, for legacy BIOS please check <a href=https://wiki.archlinux.org/index.php/installation_guide#Update_the_system_clock target=_blank rel="noreferrer noopener">arch wiki</a>
.</p>
</blockquote>
<p>To check the disks that available, you can use <code>lsblk</code> command and pick which disk you want to install arch linux on. The disk start with <code>sd</code> and without a number at the end like <code>sda</code></p>
<p>For the disk partitions, i use <code>cfdisk</code> command. For example, <code>cfdisk /dev/sda</code> (replace <code>sda</code> with the disk you want to use).</p>
<blockquote>
<p>I didn&rsquo;t make swap partition so if you want to make one please refer to <a href=https://wiki.archlinux.org/index.php/installation_guide#Update_the_system_clock target=_blank rel="noreferrer noopener">arch wiki</a>
.</p>
</blockquote>
<p>The first partition is bootloader, usually around 120M and 512M (M means megabytes) depends on what bootloader you want to use. And then change the partition type to <code>EFI System</code>.</p>
<p>The second partition is root directory. I use everything that&rsquo;s left but you can spare some for another partition. And then change the partition type to <code>Linux Filesystem</code>.</p>
<p>After you&rsquo;re sure about your disk partitions, then write the changes and then quit.</p>
<h4 id=format-the-partitions>Format The Partitions</h4>
<p>The next step is format the disk partition. For bootloader partition, format it to <code>FAT32</code> by using this command</p>
<div class=highlight><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-sh data-lang=sh>mkfs.fat -F32 /dev/&lt;efi-system-partition&gt;
</code></pre></div><p>For root directory, format it to <code>ext4</code> by using this command</p>
<div class=highlight><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-sh data-lang=sh>mkfs.ext4 /dev/&lt;root-partition&gt;
</code></pre></div><p>For example:</p>
<div class=highlight><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-sh data-lang=sh>mkfs.fat -F32 /dev/sda1
mkfs.ext4 /dev/sda2
</code></pre></div><h4 id=mount-the-filesystems>Mount The Filesystems</h4>
<blockquote>
<p>More info please refer to <a href=https://wiki.archlinux.org/index.php/EFI_system_partition#Mount_the_partition target=_blank rel="noreferrer noopener">EFI System Partition Arch Wiki</a>
.
The next step is mount the partition that we&rsquo;ve made. First, mount root partition to <code>/mnt</code> using this command</p>
</blockquote>
<div class=highlight><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-sh data-lang=sh>mount /dev/&lt;root-partition&gt; /mnt
</code></pre></div><p>after that create two directories, <code>/mnt/boot</code> and <code>/mnt/boot/efi</code> (basically create efi directory inside boot directory which both of them doesn&rsquo;t exist so you need to create one by one). You can create both directories using this command</p>
<div class=highlight><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-sh data-lang=sh>mkdir -p /mnt/boot
mkdir -p /mnt/boot/efi
</code></pre></div><p>after that mount your bootloader to <code>/mnt/boot/efi</code> using this command</p>
<div class=highlight><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-sh data-lang=sh>mount /dev/&lt;efi-system-partition&gt; /mnt/boot/efi
</code></pre></div><p>For example:</p>
<div class=highlight><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-sh data-lang=sh>mount /dev/sda2 /mnt
mount /dev/sda1 /mnt/boot/efi
</code></pre></div><h4 id=install-essential-packages>Install Essential Packages</h4>
<p>You can install essential package by using this command</p>
<div class=highlight><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-sh data-lang=sh>pacstrap /mnt base base-devel linux linux-firmware vim
</code></pre></div><ul>
<li><code>/mnt</code> is where you mount your root partition.</li>
<li><code>base</code> is base packages.</li>
<li><code>base-devel</code> is development tool such as <code>sudo</code> and <code>grep</code>.</li>
<li><code>linux</code> is the kernel.</li>
<li><code>linux-firmware</code> is the necessary part of linux kernel.</li>
<li><code>vim</code> is the text editor (i don&rsquo;t even install <code>nano</code>, sorry).</li>
</ul>
<h4 id=generate-fstab>Generate Fstab</h4>
<blockquote>
<p>Fstab is for telling the kernel what to load in the booting process.</p>
</blockquote>
<p>To generate fstab use this command</p>
<div class=highlight><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-sh data-lang=sh>genfstab -U /mnt &gt;&gt; /mnt/etc/fstab
</code></pre></div><p><code>-U</code> means using unique ID instead of human readable ID such as <code>sda</code>. You can check the content of fstab by opening <code>/mnt/etc/fstab</code> file using your text editor (in my case is vim, so i use <code>vim /mnt/etc/fstab</code>).</p>
<h4 id=change-root-into-new-system>Change Root Into New System</h4>
<p>To take a look inside our new system, we can change root to our new system by using this command</p>
<div class=highlight><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-sh data-lang=sh>arch-chroot /mnt
</code></pre></div><h3 id=configure-new-system>Configure New System</h3>
<p>After setup our new system in live environment, now we need to configure our system inside the system (not in live environment anymore) after change root into our new system. There&rsquo;re a few things you need to configure, below is the things you need configure inside new system.</p>
<h4 id=set-the-time-zone>Set The Time Zone</h4>
<p>To set the time zone, we can use this command</p>
<div class=highlight><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-sh data-lang=sh>ln -sf /usr/share/zoneinfo/Region/City /etc/localtime
</code></pre></div><p>For example:</p>
<div class=highlight><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-sh data-lang=sh>ln -sf /usr/share/zoneinfo/Asia/Jakarta /etc/localtime
</code></pre></div><p>You can check the region or the city by doing this</p>
<div class=highlight><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-sh data-lang=sh>ls /usr/share/zoneinfo/Region
</code></pre></div><p>and</p>
<div class=highlight><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-sh data-lang=sh>ls /usr/share/zoneinfo/Region/City
</code></pre></div><p>or just double <code>&lt;tab></code> while typing <code>ln -sf /usr/share/zoneinfo/</code></p>
<p>After that, generate the clock using <code>hwclock</code> with this command</p>
<div class=highlight><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-sh data-lang=sh>hwclock --systohc
</code></pre></div><h4 id=select-your-os-language>Select Your OS Language</h4>
<p>First, you need to edit <code>etc/locale.gen</code> using your favorite text editor (which is not nano for me) and uncomment the language you want.</p>
<p>For example, you want to use US English as your OS language then what you need to uncomment is <code>en_US.UTF-8 UTF-8</code> and <code>en_US ISO-8859-1</code>.</p>
<p>After that, use this command to generate locales</p>
<div class=highlight><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-sh data-lang=sh>locale-gen
</code></pre></div><p>and then create the <code>locale.conf</code> file. For example:</p>
<div class=highlight><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-sh data-lang=sh>vim /etc/locale.conf <span style=color:#999;font-style:italic>#you can replace vim with your favorite text editor</span>
</code></pre></div><p>the content of <code>locale.conf</code> is</p>
<div class=highlight><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-sh data-lang=sh><span style=color:#40ffff>LANG</span>=en_US.UTF-8 <span style=color:#999;font-style:italic>#if you choose US English</span>
</code></pre></div><p>If you set the keyboard layout (at the beginning of installation), then you make the changes persistent in <code>vconsole.conf</code>. For example:</p>
<div class=highlight><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-sh data-lang=sh>vim /etc/vconsole.conf
</code></pre></div><p>with the content</p>
<div class=highlight><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-sh data-lang=sh><span style=color:#40ffff>KEYMAP</span>=de-latin1
</code></pre></div><h4 id=network-configuration>Network Configuration</h4>
<p>For the network configuration, create the <code>hostname</code> file with the name you want (it&rsquo;s not the user name, it&rsquo;s more like your machine name). For example:</p>
<div class=highlight><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-sh data-lang=sh>vim /etc/hostname
</code></pre></div><p>with the content</p>
<div class=highlight><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-sh data-lang=sh>bruhtus
</code></pre></div><p>After that, add this content to <code>/etc/hosts</code></p>
<div class=highlight><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-sh data-lang=sh>127.0.0.1	localhost
::1			localhost
127.0.1.1	&lt;yourhostname&gt;.localdomain	&lt;yourhostname&gt;
</code></pre></div><p>For example: <br>
The previous step i define my hostname as bruhtus, so what i need to do is add this content to <code>/etc/hosts</code></p>
<div class=highlight><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-sh data-lang=sh>127.0.0.1	localhost
::1			localhost
127.0.1.1	bruhtus.localdomain	bruhtus
</code></pre></div><blockquote>
<p>If the system has a permanent IP address, it should be used instead of 127.0.1.1.</p>
</blockquote>
<p>After that, install network manager using this command <code>pacman -S networkmanager wpa_supplicant</code> and then activate on startup using <code>systemctl enable NetworkManager</code> and <code>systemctl enable wpa_supplicant</code>.</p>
<h4 id=set-the-root-password>Set The Root Password</h4>
<p>To set the root (or admin) password, use this command</p>
<div class=highlight><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-sh data-lang=sh>passwd
</code></pre></div><p>and then enter your password.</p>
<h4 id=add-new-user>Add New User</h4>
<blockquote>
<p>The default user is only root (or admin).</p>
</blockquote>
<p>To create new user, use this command</p>
<div class=highlight><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-sh data-lang=sh>useradd -m &lt;username&gt;
</code></pre></div><p>after that create the password for that username by using this command</p>
<div class=highlight><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-sh data-lang=sh>passwd &lt;username&gt;
</code></pre></div><p>and then enter your password.</p>
<p>For example:</p>
<div class=highlight><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-sh data-lang=sh>useradd -m bruhtus <span style=color:#999;font-style:italic>#i like my hostname and my username to be the same</span>
passwd bruhtus
</code></pre></div><p>and then enter the password.</p>
<h4 id=add-new-user-to-group>Add New User To Group</h4>
<blockquote>
<p>It&rsquo;s so that the new user can have root access using sude</p>
</blockquote>
<p>To add new user to group, we can use this command</p>
<div class=highlight><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-sh data-lang=sh>usermod -aG wheel,audio,video,optical,storage &lt;username&gt;
</code></pre></div><h4 id=edit-sudoers-file>Edit Sudoers File</h4>
<blockquote>
<p>Add the wheel group to have root access with sudo</p>
</blockquote>
<p>Use <code>visudo</code> and look for <code>wheel</code> and then uncomment those line.</p>
<p>The line would be like this</p>
<div class=highlight><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-sh data-lang=sh>%wheel <span style=color:#40ffff>ALL</span>=(ALL) ALL
</code></pre></div><p>By default, visudo using <code>vi</code> to edit the file. If you didn&rsquo;t want to use vi then you can do</p>
<div class=highlight><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-sh data-lang=sh><span style=color:#40ffff>EDITOR</span>=vim visudo
</code></pre></div><h4 id=install-bootloader>Install Bootloader</h4>
<blockquote>
<p>In my case, i use grub as the bootloader. So, i&rsquo;m just gonna cover grub installation in this section.</p>
</blockquote>
<p>First, install the bootloader and efibootmgr using this command</p>
<div class=highlight><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-sh data-lang=sh>pacman -S grub efibootmgr
</code></pre></div><p>After that, use this command to install grub on system partition</p>
<div class=highlight><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-sh data-lang=sh>grub-install /dev/&lt;disk-partition&gt;
</code></pre></div><p>For example:</p>
<div class=highlight><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-sh data-lang=sh>grub-install /dev/sda <span style=color:#999;font-style:italic>#without any number at the end</span>
</code></pre></div><p>If there&rsquo;s no error, then generate grub config using this command</p>
<div class=highlight><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-sh data-lang=sh>grub-mkconfig -o /boot/grub/grub.cfg
</code></pre></div><blockquote>
<p>If there&rsquo;s an error, please check <a href=https://wiki.archlinux.org/index.php/GRUB#Installation_2 target=_blank rel="noreferrer noopener">here</a>
or use search engine. I can&rsquo;t cover every single error.</p>
</blockquote>
<h3 id=reboot>Reboot</h3>
<p>If there&rsquo;s no error, exit from chroot using <code>exit</code> command. After that, unmount the system using <code>umount -R /mnt</code> and then reboot (please make sure the disk partition is priority in bios).</p>
<h2 id=graphical-user-interface>Graphical User Interface</h2>
<p>If you only use command line interface, then you don&rsquo;t need to continue. But, if you still need graphical user interface (GUI) to open browser or something like that, then keep going.</p>
<h3 id=login-to-your-arch-installation>Login To Your Arch Installation</h3>
<p>After reboot, login to your user you just created (in my case, it&rsquo;s <code>bruhtus</code>). After that check the internet connection by using <code>ping</code> command (for example: <code>ping google.com</code>). If there&rsquo;s an error then connect to your network using <code>nmtui</code> command. After that check the connection using <code>ping</code> command again. If there&rsquo;s still an error, please check arch wiki or use your search engine.</p>
<h3 id=install-and-configure-graphical-environment>Install And Configure Graphical Environment</h3>
<p>Install a few package using this command</p>
<div class=highlight><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-sh data-lang=sh>sudo pacman -S xorg xorg-init alacritty lightdm lightdm-gtk-greeter lightdm-gtk-greeter-settings i3-gaps
</code></pre></div><ul>
<li><code>xorg</code> and <code>xorg-init</code> is for graphical interface.</li>
<li><code>alacritty</code> is the terminal emulator i choose (you can replace that with your favorite terminal emulator).</li>
<li><code>lightdm</code>, <code>lightdm-gtk-greeter</code>, and <code>lightdmn-gtk-greeter-settings</code> is for login manager (unless you want to start your graphical environment manually like a champ, then you should probably install one).</li>
<li><code>i3-gaps</code> is the window manager i choose (you can replace that with your favorite window manager).</li>
</ul>
<blockquote>
<p>Please keep in mind that i use standalone window manager so i need to install xorg and xorg-init manually, but if you choose desktop environment then i think you don&rsquo;t need to install those two.</p>
</blockquote>
<p>After everything installed, copy the <code>xinitrc</code> using this command</p>
<div class=highlight><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-sh data-lang=sh>cp /etc/X11/xinit/xinitrc ~/.xinitrc
</code></pre></div><p>What that command do is copy <code>xinitrc</code> to your home directory. What <code>.xinitrc</code> do is start the window manager or desktop environment you choose (we&rsquo;ll get to that later in this post).</p>
<p>The next step is to edit <code>.xinitrc</code>, you can do the following step:</p>
<ul>
<li>Remove the last 5 row (from <code>twm &</code> until <code>exec xterm -geometry 80x66+0+0 -name login</code>)</li>
<li>And then add <code>exec i3</code> in the last row (basically replace the last 5 row with this <code>exec i3</code>).</li>
</ul>
<blockquote>
<p>Twm is default xorg window manager, in case you&rsquo;re wondering.</p>
</blockquote>
<p>Please keep in mind that i use i3 window manager so i use <code>exec i3</code>. To makes thing simpler, <code>exec</code> is where you start your window manager or desktop environment so the usual syntax would be like this <code>exec &lt;window-manager></code>.</p>
<p>After that, enable login manager by using this command:</p>
<div class=highlight><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-sh data-lang=sh>sudo sysmtemctl <span style=color:#24909d>enable</span> lightdm
</code></pre></div><p>The last step is to check if there&rsquo;s an error or not by using this command <code>startx</code> to start xorg. If everything fine (you can access your window manager or desktop environment) then reboot.</p>
<blockquote>
<p>For intel user, if there&rsquo;s an error while using <code>startx</code>, you can try installing <code>xf86-video-intel</code> first and see if that fix the error or not. If that doesn&rsquo;t fix your error then you know what to do.</p>
</blockquote>
<h2 id=the-conclusion>The Conclusion</h2>
<p>That&rsquo;s all you need to do to install arch linux. After that you can install all the program you want. I suggest you to try it first inside virtual machine such as virtualbox, virt-manager or something else.</p>
<h2 id=references>References</h2>
<ul>
<li><a href=https://wiki.archlinux.org/index.php/installation_guide target=_blank rel="noreferrer noopener">Arch wiki installation guide</a>
.</li>
<li><a href=https://wiki.archlinux.org/index.php/GRUB#Installation_2 target=_blank rel="noreferrer noopener">Arch wiki grub installation</a>
.</li>
<li><a href=https://wiki.archlinux.org/index.php/EFI_system_partition#Mount_the_partition target=_blank rel="noreferrer noopener">Arch wiki mount EFI system partition</a>
.</li>
<li><a href="https://www.youtube.com/watch?v=rUEnS1zj1DM&t=1030s" target=_blank rel="noreferrer noopener">Mental outlaw arch installation video part 1</a>
.</li>
<li><a href="https://www.youtube.com/watch?v=CwLCcRY-xac&t=796s" target=_blank rel="noreferrer noopener">Mental outlaw arch installation video part 2</a>
.</li>
<li><a href="https://www.youtube.com/watch?v=bOzLwODMqIo&t=297s&ab_channel=EF-LinuxMadeSimple" target=_blank rel="noreferrer noopener">Iwd usage video</a>
.</li>
<li><a href="https://www.youtube.com/watch?v=PQgyW10xD8s" target=_blank rel="noreferrer noopener">Distrotube arch installation video part 1</a>
.</li>
<li><a href="https://www.youtube.com/watch?v=pouX5VvX0_Q&t=847s" target=_blank rel="noreferrer noopener">Distrotube arch installation video part 2</a>
.</li>
</ul>
</div>
<footer>
<p>
&copy; 2020-present <a style=text-decoration:none href=https://github.com/bruhtus/resume target=_blank rel="noreferrer noopener">Robertus Chris</a>
<span>&#183;</span>
<a style=text-decoration:none href=https://bruhtus.github.io/index.xml target=_blank rel="noreferrer noopener">RSS Feed</a>
<span>&#183;</span>
Based on <a style=text-decoration:none href=https://github.com/koirand/pulp/ target=_blank rel="noreferrer noopener">pulp</a> and <a style=text-decoration:none href=https://github.com/adityatelange/hugo-PaperMod target=_blank rel="noreferrer noopener">papermod</a> theme
</p>
</footer>
<button onclick=topFunction() id=myBtn title="Go to top"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#d0d0d0" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 15l-6-6-6 6"/></svg>
</button>
<script>var mybutton=document.getElementById("myBtn");window.onscroll=function(){scrollFunction()};function scrollFunction(){document.body.scrollTop>20||document.documentElement.scrollTop>20?mybutton.style.display="block":mybutton.style.display="none"}function topFunction(){document.body.scrollTop=0,document.documentElement.scrollTop=0}</script><script src=https://bruhtus.github.io/js/custom.js></script>
</body>
</html>