<!doctype html><html>
<head>
<title>
Postgresql Count Data on Different Condition in The Same Query
</title>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=author content="Robertus Chris">
<link rel="shortcut icon" type=image/x-icon href=https://bruhtus.github.io/img/favicon.ico>
<link rel=stylesheet href=https://bruhtus.github.io/style.min.4f970aa135421035a71bdc9bbd750aa2cfbe0ddb080ab1ec5db4173f45494cad.css integrity="sha256-T5cKoTVCEDWnG9ybvXUKos++DdsICrHsXbQXP0VJTK0=">
<link disabled rel=stylesheet href=https://bruhtus.github.io/style-dark.min.0a647fb6c07e04b77b54fa0515d0a683d39ecdb251dba960fe1f966f7ff36fc2.css media="(prefers-color-scheme: dark)" integrity="sha256-CmR/tsB+BLd7VPoFFdCmg9OezbJR26lg/h+Wb3/zb8I=">
<link rel=stylesheet href=https://use.fontawesome.com/releases/v5.8.1/css/all.css integrity=sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf crossorigin=anonymous>
<link rel=preconnect href=https://fonts.gstatic.com>
<link href="https://fonts.googleapis.com/css2?family=Bitter:wght@300&family=EB+Garamond&family=PT+Sans&family=Sura&family=Zilla+Slab&family=Inconsolata&family=Libre+Baskerville&display=swap" rel=stylesheet>
<link rel=stylesheet href=https://bruhtus.github.io/css/custom.css>
<meta property="og:title" content="Postgresql Count Data on Different Condition in The Same Query">
<meta property="og:description" content="A Brief Intro Have you ever wondering how to count all the data and specific data with a certain condition on one query? If so, then this short post might be for you.
Let&rsquo;s get started!
How? Let&rsquo;s say we organize an event and we store the participants data on our postgresql database.
Now we want to know all the participants that registered for the event and all the participants that actually attended the event.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://bruhtus.github.io/posts/postgres-count-data-on-different-condition/"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2023-07-18T07:07:47+07:00">
<meta property="article:modified_time" content="2023-07-18T07:07:47+07:00">
<meta itemprop=name content="Postgresql Count Data on Different Condition in The Same Query">
<meta itemprop=description content="A Brief Intro Have you ever wondering how to count all the data and specific data with a certain condition on one query? If so, then this short post might be for you.
Let&rsquo;s get started!
How? Let&rsquo;s say we organize an event and we store the participants data on our postgresql database.
Now we want to know all the participants that registered for the event and all the participants that actually attended the event."><meta itemprop=datePublished content="2023-07-18T07:07:47+07:00">
<meta itemprop=dateModified content="2023-07-18T07:07:47+07:00">
<meta itemprop=wordCount content="129">
<meta itemprop=keywords content="Notes,Postgresql,"><meta name=twitter:card content="summary">
<meta name=twitter:image content="https://bruhtus.github.io//img/">
<meta name=twitter:title content="Postgresql Count Data on Different Condition in The Same Query">
<meta name=twitter:description content="A Brief Intro Have you ever wondering how to count all the data and specific data with a certain condition on one query? If so, then this short post might be for you.
Let&rsquo;s get started!
How? Let&rsquo;s say we organize an event and we store the participants data on our postgresql database.
Now we want to know all the participants that registered for the event and all the participants that actually attended the event."><!--[if lte IE 9]><script src=https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js></script><![endif]--><!--[if lt IE 9]><script src=https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js></script>
<script src=https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js></script><![endif]-->
</head>
<body>
<h1>Postgresql Count Data on Different Condition in The Same Query</h1>
<header>
<div class=cd>
<h2><a style=text-decoration:none class=cd href=https://bruhtus.github.io/posts>cd ..</a> || <a style=text-decoration:none class=cd href=https://bruhtus.github.io/>cd</a></h2>
</div>
</header>
<p class=date>
July 18, 2023
<span>&#183;</span>
1 mins
<span>&#183;</span>
Robertus Chris
</p>
<div id=tags>
<ul>
<li><a style=text-decoration:none href=https://bruhtus.github.io/tags/notes/>Notes</a></li>
<li><a style=text-decoration:none href=https://bruhtus.github.io/tags/postgresql/>Postgresql</a></li>
</ul>
</div>
<div class=toc>
<details>
<summary>
<div class=details>Table of Contents</div>
</summary>
<blockquote><ul><li>
<a style=text-decoration:none href=#a-brief-intro aria-label="A Brief Intro">A Brief Intro</a></li><li>
<a style=text-decoration:none href=#how aria-label=How?>How?</a></li><li>
<a style=text-decoration:none href=#references aria-label=References>References</a></li></ul>
</blockquote>
</details>
</div>
<div id=contentBody>
<h2 id=a-brief-intro>A Brief Intro</h2>
<p>Have you ever wondering how to count all the data and specific data with a
certain condition on one query? If so, then this short post might be for you.</p>
<p>Let&rsquo;s get started!</p>
<h2 id=how>How?</h2>
<p>Let&rsquo;s say we organize an event and we store the participants data on our
postgresql database.</p>
<p>Now we want to know all the participants that registered for the event and all
the participants that actually attended the event. That means, even though
someone register for the event, they might not attend the event.</p>
<p>With that in mind, we can use <code>FILTER</code> clause in our query like this:</p>
<div class=highlight><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-sql data-lang=sql><span style=color:#6ab825;font-weight:700>SELECT</span><span style=color:#666>
</span><span style=color:#666></span><span style=color:#6ab825;font-weight:700>count</span>(*)<span style=color:#666> </span><span style=color:#6ab825;font-weight:700>AS</span><span style=color:#666> </span>registered_participants,<span style=color:#666>
</span><span style=color:#666></span><span style=color:#6ab825;font-weight:700>count</span>(*)<span style=color:#666> </span>FILTER<span style=color:#666> </span>(<span style=color:#6ab825;font-weight:700>WHERE</span><span style=color:#666> </span>participants.status<span style=color:#666> </span>=<span style=color:#666> </span><span style=color:#ed9d13>&#39;attended&#39;</span>)<span style=color:#666> </span><span style=color:#6ab825;font-weight:700>AS</span><span style=color:#666>
</span><span style=color:#666></span>attended_participants<span style=color:#666>
</span><span style=color:#666></span><span style=color:#6ab825;font-weight:700>FROM</span><span style=color:#666> </span>participants;<span style=color:#666>
</span></code></pre></div><p>Alright, that&rsquo;s it for now. See you next time!</p>
<h2 id=references>References</h2>
<ul>
<li><a href=https://www.postgresql.org/docs/current/sql-expressions.html target=_blank rel="noreferrer noopener">Postgresql sql expressions
documentation</a>
.</li>
<li><a href=https://www.postgresql.org/docs/current/sql-expressions.html target=_blank rel="noreferrer noopener">Stackoverflow count with different condition on the same
query</a>
.</li>
</ul>
</div>
<footer>
<p>
&copy; 2020-present <a style=text-decoration:none href=https://bruhtus.github.io/resume target=_blank rel="noreferrer noopener">Robertus Chris</a>
<span>&#183;</span>
<a style=text-decoration:none href=https://bruhtus.github.io/index.xml target=_blank rel="noreferrer noopener">RSS Feed</a>
<span>&#183;</span>
Based on <a style=text-decoration:none href=https://github.com/koirand/pulp/ target=_blank rel="noreferrer noopener">pulp</a> and <a style=text-decoration:none href=https://github.com/adityatelange/hugo-PaperMod target=_blank rel="noreferrer noopener">papermod</a> theme
</p>
</footer>
<button onclick=topFunction() id=myBtn title="Go to top"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#d0d0d0" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 15l-6-6-6 6"/></svg>
</button>
<script>var mybutton=document.getElementById("myBtn");window.onscroll=function(){scrollFunction()};function scrollFunction(){document.body.scrollTop>20||document.documentElement.scrollTop>20?mybutton.style.display="block":mybutton.style.display="none"}function topFunction(){document.body.scrollTop=0,document.documentElement.scrollTop=0}</script><script src=https://bruhtus.github.io/js/custom.js></script>
</body>
</html>