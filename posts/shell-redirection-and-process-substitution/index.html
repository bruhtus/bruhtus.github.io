<!doctype html><html>
<head>
<title>
Shell Redirection and Process Substitution Combination
</title>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=author content="Robertus Chris">
<link rel="shortcut icon" type=image/x-icon href=https://bruhtus.github.io/img/favicon.ico>
<link rel=stylesheet href=https://bruhtus.github.io/style.min.4f970aa135421035a71bdc9bbd750aa2cfbe0ddb080ab1ec5db4173f45494cad.css integrity="sha256-T5cKoTVCEDWnG9ybvXUKos++DdsICrHsXbQXP0VJTK0=">
<link disabled rel=stylesheet href=https://bruhtus.github.io/style-dark.min.0a647fb6c07e04b77b54fa0515d0a683d39ecdb251dba960fe1f966f7ff36fc2.css media="(prefers-color-scheme: dark)" integrity="sha256-CmR/tsB+BLd7VPoFFdCmg9OezbJR26lg/h+Wb3/zb8I=">
<link rel=stylesheet href=https://use.fontawesome.com/releases/v5.8.1/css/all.css integrity=sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf crossorigin=anonymous>
<link rel=preconnect href=https://fonts.gstatic.com>
<link href="https://fonts.googleapis.com/css2?family=Bitter:wght@300&family=EB+Garamond&family=PT+Sans&family=Sura&family=Zilla+Slab&family=Inconsolata&family=Libre+Baskerville&display=swap" rel=stylesheet>
<link rel=stylesheet href=https://bruhtus.github.io/css/custom.css>
<meta property="og:title" content="Shell Redirection and Process Substitution Combination">
<meta property="og:description" content="A Brief Intro Recently i watch &ldquo;Bread on Penguins&rdquo; video about shell process substitution on youtube. I already know about shell process substitution and write the blog post about shell process substitution as temp file , but what is interesting from the video is the combination of shell process substitution and shell redirection that i didn&rsquo;t think about previously.
Shell Redirection If you didn&rsquo;t know about shell redirection, it&rsquo;s basically redirecting the output of a program to a file.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://bruhtus.github.io/posts/shell-redirection-and-process-substitution/"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2025-12-17T05:54:28+07:00">
<meta property="article:modified_time" content="2025-12-17T05:54:28+07:00">
<meta itemprop=name content="Shell Redirection and Process Substitution Combination">
<meta itemprop=description content="A Brief Intro Recently i watch &ldquo;Bread on Penguins&rdquo; video about shell process substitution on youtube. I already know about shell process substitution and write the blog post about shell process substitution as temp file , but what is interesting from the video is the combination of shell process substitution and shell redirection that i didn&rsquo;t think about previously.
Shell Redirection If you didn&rsquo;t know about shell redirection, it&rsquo;s basically redirecting the output of a program to a file."><meta itemprop=datePublished content="2025-12-17T05:54:28+07:00">
<meta itemprop=dateModified content="2025-12-17T05:54:28+07:00">
<meta itemprop=wordCount content="825">
<meta itemprop=keywords content="Shell,"><!--[if lte IE 9]><script src=https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js></script><![endif]--><!--[if lt IE 9]><script src=https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js></script>
<script src=https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js></script><![endif]-->
</head>
<body>
<h1>Shell Redirection and Process Substitution Combination</h1>
<header>
<div class=cd>
<h2><a style=text-decoration:none class=cd href=https://bruhtus.github.io/posts>cd ..</a> || <a style=text-decoration:none class=cd href=https://bruhtus.github.io/>cd</a></h2>
</div>
</header>
<p class=date>
December 17, 2025
<span>&#183;</span>
4 mins
<span>&#183;</span>
Robertus Chris
</p>
<div id=tags>
<ul>
<li><a style=text-decoration:none href=https://bruhtus.github.io/tags/shell/>Shell</a></li>
</ul>
</div>
<div class=toc>
<details>
<summary>
<div class=details>Table of Contents</div>
</summary>
<blockquote><ul><li>
<a style=text-decoration:none href=#a-brief-intro aria-label="A Brief Intro">A Brief Intro</a></li><li>
<a style=text-decoration:none href=#shell-redirection aria-label="Shell Redirection">Shell Redirection</a></li><li>
<a style=text-decoration:none href=#shell-process-substitution aria-label="Shell Process Substitution">Shell Process Substitution</a></li><li>
<a style=text-decoration:none href=#combination aria-label=Combination>Combination</a></li><li>
<a style=text-decoration:none href=#references aria-label=References>References</a></li></ul>
</blockquote>
</details>
</div>
<div id=contentBody>
<h2 id=a-brief-intro>A Brief Intro</h2>
<p>Recently i watch &ldquo;Bread on Penguins&rdquo; video about <a href=https://youtu.be/2A4bs40scSo target=_blank rel="noreferrer noopener">shell process
substitution</a>
on youtube. I already know about
shell process substitution and write the blog post about <a href=../shell-process-substitution-as-temp-file.md>shell process
substitution as temp file</a>
, but
what is interesting from the video is the combination of shell process
substitution and shell redirection that i didn&rsquo;t think about previously.</p>
<h2 id=shell-redirection>Shell Redirection</h2>
<p>If you didn&rsquo;t know about shell redirection, it&rsquo;s basically redirecting the
output of a program to a file. Here&rsquo;s an example of shell redirection:</p>
<div class=highlight><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-sh data-lang=sh><span style=color:#24909d>echo</span> <span style=color:#ed9d13>&#39;something&#39;</span> &gt; big.txt
</code></pre></div><p>The example above means that we write <code>something</code> to file <code>big.txt</code>. Keep in
mind that the example about will <em>replace</em> any contents in the <code>big.txt</code> file,
so be careful.</p>
<p>If we want to <em>append</em>, we can use <code>>></code> operator like this:</p>
<div class=highlight><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-sh data-lang=sh><span style=color:#24909d>echo</span> <span style=color:#ed9d13>&#39;something&#39;</span> &gt;&gt; big.txt
</code></pre></div><p>For more info, you can check on the posix specification about redirection in
then references section below.</p>
<h2 id=shell-process-substitution>Shell Process Substitution</h2>
<p>Shell process substitution is basically a mechanism to save the output of a
process inside a &ldquo;file descriptor&rdquo; and we can use those &ldquo;file descriptor&rdquo; like
a temporary file, which means those &ldquo;file descriptor&rdquo; will disappear after the
current command that <em>use</em> process substitution is done.</p>
<p>If you are still confused, think of the process like <em>primary process</em> and
<em>subprocess</em>. The current command that <em>use</em> process substitution is the
<em>primary process</em> and the process inside the process substitution is the
<em>subprocess</em>.</p>
<p>Here&rsquo;s an example:</p>
<div class=highlight><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-sh data-lang=sh>diff &lt;(sort file1) &lt;(sort file2)
</code></pre></div><p>In the example about, we are sorting <code>file1</code> and <code>file2</code> first and the save
the result in 2 &ldquo;file descriptor&rdquo;. And then we run <code>diff</code> command with those
&ldquo;file descriptor&rdquo; like a regular file, and after <code>diff</code> command done, those
&ldquo;file descriptor&rdquo; is gone.</p>
<p>In case you are wondering &ldquo;what is file descriptor?&rdquo;, let me try explaining
that. I mean, by the time of writing this blog post, i&rsquo;m still not sure yet
what is &ldquo;file descriptor&rdquo; but i know that it&rsquo;s not a regular file.</p>
<p>When we open an existing file or create a new file, the kernel returns a &ldquo;file
descriptor&rdquo; to the process, and as far as i understand, &ldquo;file descriptor&rdquo; is
an information about <em>opened</em> file.</p>
<p>So what shell process substitution does is using those &ldquo;file descriptor&rdquo;
mechanism as a temporary file to store the output of another process, which is
quite neat.</p>
<p>But, keep in mind that <strong>not all shell have process substitution</strong>, the one
that i know have process substitution is <code>bash</code> and <code>zsh</code>. So before you try
it, please check if your shell have process substitution or not.</p>
<h2 id=combination>Combination</h2>
<p>This is the example from the youtube video that is interesting, we can combine
the shell redirection and shell process substitution to separate the output
and error from a command.</p>
<p>Let&rsquo;s say we have a command called <code>something</code> and we want to check the output
of those command in <code>less</code> command and also save the error messages in a file
called <code>errors.txt</code>. We can do that like this:</p>
<div class=highlight><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-sh data-lang=sh>something &gt; &gt;(less) 2&gt; &gt;(tee errors.txt)
</code></pre></div><p>The symbol <code>></code> is the same as <code>1></code> which means redirect the output of the
program, and symbol <code>2></code> means redirect the error messages of the program. If
you want to know more about it, look up <code>stdout</code> and <code>stderr</code>.</p>
<p>With that in mind, with <code>> >(less)</code> means we are redirecting the output of
<code>something</code> to process substitution with command <code>less</code> which i assume passing
the output to <code>less</code> <em>stdin</em> (or the input) and similar to piping like
<code>something | less</code> (?), i&rsquo;m still not sure how it works. But the difference
between piping and process substitution is that piping only able to
run <em>one</em> process at time, meanwhile process substitution can run multiple
process <em>simultaneously</em>, at least that is from my observation. Again, i&rsquo;m
still not sure how that work yet.</p>
<p>And with <code>2> >(tee errors.txt)</code> means we are redirecting the error messages of
<code>something</code> to process substitution with command <code>tee errors.txt</code>. I guess
it&rsquo;s like we are passing <code>something</code> error message to <code>tee</code> <em>stdin</em> and save
those input in <code>errors.txt</code> file.</p>
<p>Here&rsquo;s another example:</p>
<div class=highlight><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-sh data-lang=sh>sort file &gt; &gt;(diff file -)
</code></pre></div><p>The command above is basically check the difference between unsorted and
sorted <code>file</code>. We provide <code>-</code> in <code>diff file -</code> to take the <em>stdin</em> as the
input for the second argument.</p>
<p>At first glance, that might look the same as <code>sort file | diff file -</code>, but in
my observation, there&rsquo;s a slight difference. When using <code>sort file > >(diff file -)</code>, my shell prompt does not appear but i can execute command like
normal. And when using <code>sort file | diff file -</code> or <code>diff file &lt;(sort file)</code>,
my shell prompt appear like normal. Still not sure what is the difference.</p>
<p>Alright, that&rsquo;s it for now. See you next time!</p>
<h2 id=references>References</h2>
<ul>
<li><a href=https://youtu.be/2A4bs40scSo target=_blank rel="noreferrer noopener">Bread on Penguins youtube video</a>
.</li>
<li><a href=https://pubs.opengroup.org/onlinepubs/9699919799/utilities/V3_chap02.html#tag_18_07 target=_blank rel="noreferrer noopener">POSIX specification about
redirection</a>
.</li>
<li><a href=https://pubs.opengroup.org/onlinepubs/9699919799/basedefs/V1_chap03.html#tag_03_166 target=_blank rel="noreferrer noopener">POSIX specification about file
descriptor</a>
.</li>
<li><a href=https://medium.com/@zoningxtr/unlocking-the-power-of-proc-self-fd-in-linux-from-basics-to-exploits-and-prevention-f58d2202b129 target=_blank rel="noreferrer noopener">Medium post about
/proc/self/fd</a>
.</li>
<li><a href=https://stackoverflow.com/a/17741176 target=_blank rel="noreferrer noopener">Stackoverflow answer about file
descriptor</a>
.</li>
</ul>
</div>
<footer>
<p>
&copy; 2020-present <a style=text-decoration:none href=https://github.com/bruhtus/resume target=_blank rel="noreferrer noopener">Robertus Chris</a>
<span>&#183;</span>
<a style=text-decoration:none href=https://bruhtus.github.io/index.xml target=_blank rel="noreferrer noopener">RSS Feed</a>
<span>&#183;</span>
Based on <a style=text-decoration:none href=https://github.com/koirand/pulp/ target=_blank rel="noreferrer noopener">pulp</a> and <a style=text-decoration:none href=https://github.com/adityatelange/hugo-PaperMod target=_blank rel="noreferrer noopener">papermod</a> theme
</p>
</footer>
<button onclick=topFunction() id=myBtn title="Go to top"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#d0d0d0" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 15l-6-6-6 6"/></svg>
</button>
<script>var mybutton=document.getElementById("myBtn");window.onscroll=function(){scrollFunction()};function scrollFunction(){document.body.scrollTop>20||document.documentElement.scrollTop>20?mybutton.style.display="block":mybutton.style.display="none"}function topFunction(){document.body.scrollTop=0,document.documentElement.scrollTop=0}</script><script src=https://bruhtus.github.io/js/custom.js></script>
</body>
</html>