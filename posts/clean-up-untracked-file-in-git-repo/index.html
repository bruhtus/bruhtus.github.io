<!doctype html><html>
<head>
<title>
Clean Up Untracked File in Git Repo
</title>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=author content="Robertus Chris">
<link rel="shortcut icon" type=image/x-icon href=https://bruhtus.github.io/img/favicon.ico>
<link rel=stylesheet href=https://bruhtus.github.io/style.min.4f970aa135421035a71bdc9bbd750aa2cfbe0ddb080ab1ec5db4173f45494cad.css integrity="sha256-T5cKoTVCEDWnG9ybvXUKos++DdsICrHsXbQXP0VJTK0=">
<link disabled rel=stylesheet href=https://bruhtus.github.io/style-dark.min.0a647fb6c07e04b77b54fa0515d0a683d39ecdb251dba960fe1f966f7ff36fc2.css media="(prefers-color-scheme: dark)" integrity="sha256-CmR/tsB+BLd7VPoFFdCmg9OezbJR26lg/h+Wb3/zb8I=">
<link rel=stylesheet href=https://use.fontawesome.com/releases/v5.8.1/css/all.css integrity=sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf crossorigin=anonymous>
<link rel=preconnect href=https://fonts.gstatic.com>
<link href="https://fonts.googleapis.com/css2?family=Bitter:wght@300&family=EB+Garamond&family=PT+Sans&family=Sura&family=Zilla+Slab&family=Inconsolata&family=Libre+Baskerville&display=swap" rel=stylesheet>
<link rel=stylesheet href=https://bruhtus.github.io/css/custom.css>
<meta property="og:title" content="Clean Up Untracked File in Git Repo">
<meta property="og:description" content="Have you ever feels like deleting all the untracked file or directory in git repository is such a pain?
If you do, then this post might be for you!
Ok, first thing first, there is a git command clean which help us delete the untracked file. We can even use it with interactive interface. To invoke the interactive interface, we can use this command:
git clean -i . What that command does is prompt us an interactive interface with all the untracked file in current directory.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://bruhtus.github.io/posts/clean-up-untracked-file-in-git-repo/"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2022-08-20T12:33:36+07:00">
<meta property="article:modified_time" content="2022-08-20T12:33:36+07:00">
<meta itemprop=name content="Clean Up Untracked File in Git Repo">
<meta itemprop=description content="Have you ever feels like deleting all the untracked file or directory in git repository is such a pain?
If you do, then this post might be for you!
Ok, first thing first, there is a git command clean which help us delete the untracked file. We can even use it with interactive interface. To invoke the interactive interface, we can use this command:
git clean -i . What that command does is prompt us an interactive interface with all the untracked file in current directory."><meta itemprop=datePublished content="2022-08-20T12:33:36+07:00">
<meta itemprop=dateModified content="2022-08-20T12:33:36+07:00">
<meta itemprop=wordCount content="330">
<meta itemprop=keywords content="Notes,Linux,Shell,Git,"><meta name=twitter:card content="summary">
<meta name=twitter:image content="https://bruhtus.github.io//img/">
<meta name=twitter:title content="Clean Up Untracked File in Git Repo">
<meta name=twitter:description content="Have you ever feels like deleting all the untracked file or directory in git repository is such a pain?
If you do, then this post might be for you!
Ok, first thing first, there is a git command clean which help us delete the untracked file. We can even use it with interactive interface. To invoke the interactive interface, we can use this command:
git clean -i . What that command does is prompt us an interactive interface with all the untracked file in current directory."><!--[if lte IE 9]><script src=https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js></script><![endif]--><!--[if lt IE 9]><script src=https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js></script>
<script src=https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js></script><![endif]-->
</head>
<body>
<h1>Clean Up Untracked File in Git Repo</h1>
<header>
<div class=cd>
<h2><a style=text-decoration:none class=cd href=https://bruhtus.github.io/posts>cd ..</a> || <a style=text-decoration:none class=cd href=https://bruhtus.github.io/>cd</a></h2>
</div>
</header>
<p class=date>
August 20, 2022
<span>&#183;</span>
2 mins
<span>&#183;</span>
Robertus Chris
</p>
<div id=tags>
<ul>
<li><a style=text-decoration:none href=https://bruhtus.github.io/tags/notes/>Notes</a></li>
<li><a style=text-decoration:none href=https://bruhtus.github.io/tags/linux/>Linux</a></li>
<li><a style=text-decoration:none href=https://bruhtus.github.io/tags/shell/>Shell</a></li>
<li><a style=text-decoration:none href=https://bruhtus.github.io/tags/git/>Git</a></li>
</ul>
</div>
<div id=contentBody>
<p>Have you ever feels like deleting all the untracked file or directory in git
repository is such a pain?</p>
<p>If you do, then this post might be for you!</p>
<p>Ok, first thing first, there is a git command <code>clean</code> which help us delete the
untracked file. We can even use it with interactive interface. To invoke the
interactive interface, we can use this command:</p>
<div class=highlight><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-sh data-lang=sh>git clean -i .
</code></pre></div><p>What that command does is prompt us an interactive interface with all the
untracked file in current directory.</p>
<p>To make it start from the root of git repository, we can use this command:</p>
<div class=highlight><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-sh data-lang=sh>git clean -i <span style=color:#6ab825;font-weight:700>$(</span>git rev-parse --show-toplevel<span style=color:#6ab825;font-weight:700>)</span>
</code></pre></div><p>The <code>git rev-parse --show-toplevel</code> will get us the path of current git
repository root. If you don&rsquo;t know what i mean by git repository root, we can
think of it as the directory or path that has <code>.git</code> directory.</p>
<p><em>But</em>, the <code>clean</code> command has a downside. The <code>clean</code> command does not let us
select specific file under untracked directory. It will only let us delete the
entire untracked directory with all the file in it.</p>
<p>To get around this issue, we can make a shell alias like this:</p>
<div class=highlight><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-sh data-lang=sh><span style=color:#24909d>alias</span> <span style=color:#40ffff>gurm</span>=<span style=color:#ed9d13>&#39;git ls-files --others --exclude-standard | fzf --multi | xargs -r rm -v&#39;</span>
</code></pre></div><blockquote>
<p>You can change <code>gurm</code> to anything you want.</p>
</blockquote>
<p>The dependencies from shell alias above are:</p>
<ul>
<li>git</li>
<li>fzf</li>
<li>xargs</li>
</ul>
<p><code>git ls-files --others --exclude-standard</code> will list all the untracked file and
also exclude the file from <code>.gitignore</code>.</p>
<p><code>fzf</code> is a fuzzy finder to select the untracked file we want to remove, we
also give flags <code>--multi</code> so that we can select multiple file with <code>tab</code> key.</p>
<p>Finally, we execute <code>rm</code> command with <code>xargs -r</code>. What <code>xargs -r</code> do is make
sure that we have some input from standard input (stdin), if there is no input
from stdin, <code>xargs</code> will not execute the command. It is useful to prevent an
error from a command that require an argument.</p>
<p>Alright, that&rsquo;s all. Have a nice day!</p>
</div>
<footer>
<p>
&copy; 2020-present <a style=text-decoration:none href=https://bruhtus.github.io/resume target=_blank rel="noreferrer noopener">Robertus Chris</a>
<span>&#183;</span>
<a style=text-decoration:none href=https://bruhtus.github.io/index.xml target=_blank rel="noreferrer noopener">RSS Feed</a>
<span>&#183;</span>
Based on <a style=text-decoration:none href=https://github.com/koirand/pulp/ target=_blank rel="noreferrer noopener">pulp</a> and <a style=text-decoration:none href=https://github.com/adityatelange/hugo-PaperMod target=_blank rel="noreferrer noopener">papermod</a> theme
</p>
</footer>
<button onclick=topFunction() id=myBtn title="Go to top"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#d0d0d0" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 15l-6-6-6 6"/></svg>
</button>
<script>var mybutton=document.getElementById("myBtn");window.onscroll=function(){scrollFunction()};function scrollFunction(){document.body.scrollTop>20||document.documentElement.scrollTop>20?mybutton.style.display="block":mybutton.style.display="none"}function topFunction(){document.body.scrollTop=0,document.documentElement.scrollTop=0}</script><script src=https://bruhtus.github.io/js/custom.js></script>
</body>
</html>