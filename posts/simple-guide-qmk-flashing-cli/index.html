<!doctype html><html>
<head>
<title>
Simple Guide Flashing Mechanical Keyboard with QMK Cli
</title>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=author content="Robertus Chris">
<link rel="shortcut icon" type=image/x-icon href=https://bruhtus.github.io/img/favicon.ico>
<link rel=stylesheet href=https://bruhtus.github.io/style.min.4f970aa135421035a71bdc9bbd750aa2cfbe0ddb080ab1ec5db4173f45494cad.css integrity="sha256-T5cKoTVCEDWnG9ybvXUKos++DdsICrHsXbQXP0VJTK0=">
<link disabled rel=stylesheet href=https://bruhtus.github.io/style-dark.min.0a647fb6c07e04b77b54fa0515d0a683d39ecdb251dba960fe1f966f7ff36fc2.css media="(prefers-color-scheme: dark)" integrity="sha256-CmR/tsB+BLd7VPoFFdCmg9OezbJR26lg/h+Wb3/zb8I=">
<link rel=stylesheet href=https://use.fontawesome.com/releases/v5.8.1/css/all.css integrity=sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf crossorigin=anonymous>
<link rel=preconnect href=https://fonts.gstatic.com>
<link href="https://fonts.googleapis.com/css2?family=Bitter:wght@300&family=EB+Garamond&family=PT+Sans&family=Sura&family=Zilla+Slab&family=Inconsolata&family=Libre+Baskerville&display=swap" rel=stylesheet>
<link rel=stylesheet href=https://bruhtus.github.io/css/custom.css>
<meta property="og:title" content="Simple Guide Flashing Mechanical Keyboard with QMK Cli">
<meta property="og:description" content="A Brief Intro So recently, around the time i wrote this post, i need to flash my mechanical keyboard. The harsh thing is that, the GUI QMK toolbox only available on windows and macOS, meanwhile i use linux.
So, i need to use the QMK CLI to flash my mechanical keyboard. This post is some kind of notes for my future self.
&ldquo;Humans live by forgetting&rdquo;, some people said. Without further ado, let&rsquo;s get started!">
<meta property="og:type" content="article">
<meta property="og:url" content="https://bruhtus.github.io/posts/simple-guide-qmk-flashing-cli/"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2023-02-26T05:07:03+07:00">
<meta property="article:modified_time" content="2023-02-26T05:07:03+07:00">
<meta itemprop=name content="Simple Guide Flashing Mechanical Keyboard with QMK Cli">
<meta itemprop=description content="A Brief Intro So recently, around the time i wrote this post, i need to flash my mechanical keyboard. The harsh thing is that, the GUI QMK toolbox only available on windows and macOS, meanwhile i use linux.
So, i need to use the QMK CLI to flash my mechanical keyboard. This post is some kind of notes for my future self.
&ldquo;Humans live by forgetting&rdquo;, some people said. Without further ado, let&rsquo;s get started!"><meta itemprop=datePublished content="2023-02-26T05:07:03+07:00">
<meta itemprop=dateModified content="2023-02-26T05:07:03+07:00">
<meta itemprop=wordCount content="538">
<meta itemprop=keywords content="Notes,Linux,"><meta name=twitter:card content="summary">
<meta name=twitter:image content="https://bruhtus.github.io//img/">
<meta name=twitter:title content="Simple Guide Flashing Mechanical Keyboard with QMK Cli">
<meta name=twitter:description content="A Brief Intro So recently, around the time i wrote this post, i need to flash my mechanical keyboard. The harsh thing is that, the GUI QMK toolbox only available on windows and macOS, meanwhile i use linux.
So, i need to use the QMK CLI to flash my mechanical keyboard. This post is some kind of notes for my future self.
&ldquo;Humans live by forgetting&rdquo;, some people said. Without further ado, let&rsquo;s get started!"><!--[if lte IE 9]><script src=https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js></script><![endif]--><!--[if lt IE 9]><script src=https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js></script>
<script src=https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js></script><![endif]-->
</head>
<body>
<h1>Simple Guide Flashing Mechanical Keyboard with QMK Cli</h1>
<header>
<div class=cd>
<h2><a style=text-decoration:none class=cd href=https://bruhtus.github.io//posts>cd ..</a> || <a style=text-decoration:none class=cd href=https://bruhtus.github.io/>cd</a></h2>
</div>
</header>
<p class=date>
February 26, 2023
<span>&#183;</span>
3 mins
<span>&#183;</span>
Robertus Chris
</p>
<div id=tags>
<ul>
<li><a style=text-decoration:none href=https://bruhtus.github.io/tags/notes/>Notes</a></li>
<li><a style=text-decoration:none href=https://bruhtus.github.io/tags/linux/>Linux</a></li>
</ul>
</div>
<div class=toc>
<details>
<summary>
<div class=details>Table of Contents</div>
</summary>
<blockquote><ul><li>
<a style=text-decoration:none href=#a-brief-intro aria-label="A Brief Intro">A Brief Intro</a></li><li>
<a style=text-decoration:none href=#install-qmk-firmware aria-label="Install QMK Firmware">Install QMK Firmware</a></li><li>
<a style=text-decoration:none href=#flashing-with-qmk-cli aria-label="Flashing with QMK CLI">Flashing with QMK CLI</a></li><li>
<a style=text-decoration:none href=#references aria-label=References>References</a></li></ul>
</blockquote>
</details>
</div>
<div id=contentBody>
<h2 id=a-brief-intro>A Brief Intro</h2>
<p>So recently, around the time i wrote this post, i need to flash my mechanical
keyboard. The harsh thing is that, the GUI QMK toolbox only available on
windows and macOS, meanwhile i use linux.</p>
<p>So, i need to use the QMK CLI to flash my mechanical keyboard. This post is
some kind of notes for my future self.</p>
<p>&ldquo;Humans live by forgetting&rdquo;, some people said. Without further ado, let&rsquo;s get
started!</p>
<h2 id=install-qmk-firmware>Install QMK Firmware</h2>
<p>First thing first, we need to check if QMK firmware already installed on our
system. We can do that with the command below:</p>
<div class=highlight><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-sh data-lang=sh><span style=color:#24909d>command</span> -v qmk
</code></pre></div><p>If the output is empty, then we need to install QMK firmware first. If the
output is not empty, we can skip this process.</p>
<p>There&rsquo;s a newbie guide on how to install QMK firmware on linux, we can them
out
<a href=https://github.com/qmk/qmk_firmware/blob/master/docs/newbs_getting_started.md#-linuxwsl- target=_blank rel="noreferrer noopener">here</a>
.</p>
<p>There are a few options to install QMK firmware on linux. We can install QMK
firmware with our linux distro package manager or from python pip.</p>
<p>In this post, we will use python <a href=https://github.com/pypa/pipx/ target=_blank rel="noreferrer noopener">pipx</a>
to
install QMK firmware. We can install QMK firmware from python pipx with this
command:</p>
<div class=highlight><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-sh data-lang=sh>pipx install qmk
</code></pre></div><blockquote>
<p>Make sure you already have <code>pipx</code> installed on your machine.</p>
</blockquote>
<p>Follow the instruction from the installation process, including installing
dependencies on your system and copy the <code>50-qmk.rules</code> to <code>/etc/udev/rules.d/</code>.</p>
<blockquote>
<p>Copying the <code>50-qmk.rules</code> make QMK can detect the bootloader of our
mechanical keyboard. If we didn&rsquo;t do that, even if our mechanical keyboard
already in bootloader mode, QMK won&rsquo;t be able to detect our mechanical
keyboard.</p>
</blockquote>
<p>After we install QMK firmware, we need to setup the QMK CLI. We can do that
with this command:</p>
<div class=highlight><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-sh data-lang=sh>qmk setup
</code></pre></div><p>By default, the installation directory will be on our home directory.
Personally i don&rsquo;t really want to put the QMK installation on my home
directory, so i added <code>-H</code> flag to move the installation directory to
somewhere else, like this:</p>
<div class=highlight><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-sh data-lang=sh>qmk setup -H all-repos/qmk_firmware
</code></pre></div><p>If the setup already finished, try running:</p>
<div class=highlight><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-sh data-lang=sh>qmk doctor
</code></pre></div><p>and see if there&rsquo;s any issue with the installation.</p>
<h2 id=flashing-with-qmk-cli>Flashing with QMK CLI</h2>
<p>There&rsquo;s a newbie guide on how to flash our mechanical keyboard using QMK CLI,
we can find it
<a href=https://github.com/qmk/qmk_firmware/blob/d70e9b8659a7fbbd7069fd542bd07e67e04327a1/docs/newbs_flashing.md#flash-your-keyboard-from-the-command-line target=_blank rel="noreferrer noopener">here</a>
.</p>
<p>The point is, we need to know if our mechanical keyboard supported by QMK. We
can check the supported mechanical keyboard <a href=https://qmk.fm/keyboards/ target=_blank rel="noreferrer noopener">here</a>
.</p>
<p>Let&rsquo;s say our mechanical keyboard is dz60rgb with ansi layout version 1, we
can flash our mechanical keyboard with this command:</p>
<div class=highlight><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-sh data-lang=sh>qmk flash -kb dztech/dz60rgb_ansi/v1 -km default
</code></pre></div><blockquote>
<p>For more info about the flags, we can use <code>qmk flash --help</code>.</p>
</blockquote>
<p>Unfortunately, my current mechanical keyboard is not supported, which is
synthesis60 version 2. I need to get the hex file from the mechanical keyboard
designer (and fortunately he&rsquo;s within reach).</p>
<blockquote>
<p>In case you also need the synthesis60 version 2 hex file, you can check it
<a href=https://github.com/bruhtus/bruhtus.github.io/blob/master/content/posts/simple-guide-qmk-flashing-cli/dyz_synthesis60_atmega_vial.hex target=_blank rel="noreferrer noopener">here</a>
.</p>
</blockquote>
<p>So, to use our own hex file rather than using the default that QMK supported,
we can use this command:</p>
<div class=highlight><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-sh data-lang=sh>qmk flash &lt;path-to-hex-file&gt;
</code></pre></div><p>Here&rsquo;s an example:</p>
<div class=highlight><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-sh data-lang=sh>qmk flash ~/downloads/dyz_synthesis60_atmega_vial.hex
</code></pre></div><p>All right, that&rsquo;s it from me. See you next time!</p>
<h2 id=references>References</h2>
<ul>
<li><a href=https://github.com/qmk/qmk_firmware/blob/master/docs/newbs_getting_started.md target=_blank rel="noreferrer noopener">QMK newbie getting started guide</a>
.</li>
<li><a href=https://github.com/qmk/qmk_firmware/blob/master/docs/newbs_flashing.md target=_blank rel="noreferrer noopener">QMK newbie flashing guide</a>
.</li>
<li><a href=https://github.com/qmk/qmk_firmware/issues/15202#issuecomment-973076050 target=_blank rel="noreferrer noopener">Using QMK flash with the external
file</a>
.</li>
</ul>
</div>
<footer>
<p>
&copy; 2020-present <a style=text-decoration:none href=https://bruhtus.github.io/resume target=_blank rel="noreferrer noopener">Robertus Chris</a>
<span>&#183;</span>
<a style=text-decoration:none href=https://bruhtus.github.io/index.xml target=_blank rel="noreferrer noopener">RSS Feed</a>
<span>&#183;</span>
Based on <a style=text-decoration:none href=https://github.com/koirand/pulp/ target=_blank rel="noreferrer noopener">pulp</a> and <a style=text-decoration:none href=https://git.io/hugopapermod target=_blank rel="noreferrer noopener">papermod</a> theme
</p>
</footer>
<button onclick=topFunction() id=myBtn title="Go to top"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#d0d0d0" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 15l-6-6-6 6"/></svg>
</button>
<script>var mybutton=document.getElementById("myBtn");window.onscroll=function(){scrollFunction()};function scrollFunction(){document.body.scrollTop>20||document.documentElement.scrollTop>20?mybutton.style.display="block":mybutton.style.display="none"}function topFunction(){document.body.scrollTop=0,document.documentElement.scrollTop=0}</script><script src=https://bruhtus.github.io/js/custom.js></script>
</body>
</html>